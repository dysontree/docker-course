---
layout: article
---

Давай попробуем развернуть этот файл. Если не хочешь сам его писать, можно склонировать репо с композ-файлом `https://github.com/rotoro-cloud/rocket-counter.git`.

```
git clone https://github.com/rotoro-cloud/rocket-counter.git
```

```
cd rocket-counter/
```

Как ты помнишь, стек поднимается командой `compose up`. Это приводит docker-хост к описаному в файле виду. В данном случае он создаст контейнеры, сеть и хранилище. Обрати внимание, что в процессе подъёма стека идет сборка образа.

```
docker compose up
```

Поскольку я не указал флаг `--detach` или короче `-d`, мой терминал приаттачился к стеку. Из другого терминала я могу проверить работу приложения, сделав curl-запрос на порт `8085`.

```
curl localhost:8085/getimage
```

В `compose.yaml` у службы `rocketcounter` есть такая строка, при помощи которой мы выставили порты `8085` и `8086` на хост, и поэтому приложение доступно на локальном хосте.

```
    ports:
    - 8085-8086:5000
```

Также обрати внимание на строку:

```
  rocketcounter:
    build: .
```

Она говорит, что образа нет, но его требуется собрать из Dockerfile в текущей директории.
Я остановлю стек, нажав `Ctrl+C`.

```
^CGracefully stopping... (press Ctrl+C again to force)
```

Наши контейнеры остановлены и ждут возможности снова подняться. Остановить стек не равно его удалению. Давай посмотрим, какие ресурсы создал для нас docker-compose.
