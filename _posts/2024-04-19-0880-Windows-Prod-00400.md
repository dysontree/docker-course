---
layout: article
---

Поскольку не собираюсь использовать этот Docker в дальнейшем и не буду всерьёз его настраивать. Но для боевого сервера это потребуется. То же самое и с переменной окружения `DOCKER_HOST`. Если хочешь работать на постоянной основе, её стоит назначить в свойствах системы.

Теперь я открою второй терминал в режиме администратора. Повышение привилегий требуется для запуска демона `Dockerd.exe`. Флаг `-H` указывает, что демон будет прослушивать локальный интерфейс на порту `2376`.

```
PS D:\win> .\dockerd.exe -H tcp://localhost:2376
```

Демон ожидает операций. Чтобы CLI знало куда обращаться, я объявлю переменную в PowerShell с именем `DOCKER_HOST` и со значением, с которым запускал демона ранее:

```
$Env:DOCKER_HOST = "tcp://localhost:2376"
```

И в общем-то это всё, осталось перейти в окно с CLI и выполнить первое обращение к `dockerd`: 

```
PS D:\win> .\docker.exe ps
```

Имей в виду, что для продуктовой работы тебе потребуется превратить `dockerd` в службу. Это можно сделать примерно такой командой:

```
 sc.exe create Docker binPath="D:\win\dockerd.exe --run-service -H tcp://localhost:2376"
```
