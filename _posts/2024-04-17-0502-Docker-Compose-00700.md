---
layout: article
---

Чтобы масштабировать службу, нам нужно указать количество реплик в команде `compose up`:

```
docker compose up --scale rocketcounter=2 --detach
```

Команда `compose top` покажет процессы контейнеров.

```
docker compose top
```

Мы также можем проверить, какие ещё compose-стеки существуют на хосте. Это можно запустить в любом каталоге.

```
docker compose ls
```

Ещё одна полезная команда - `docker compose config`. С ее помощью можно получить длинный вид стека. Этот вид более многословный, и мы обычно ленимся столько писать, предпочитая короткий. Но длинный синтаксис содержит в себе самодокументацию, поэтому хранить и делиться compose-файлами лучше в таком формате. Обрати внимание, как изменилось описание портов и томов в службе `rocketcounter`.

```
docker compose config
```

Команда `compose down` уничтожает контейнеры и сети, созданные из compose-файла. Также флаги `--volumes` и `-rmi` удалят созданные тома и образы.

```
 docker compose down --volumes --rmi all
```

Итак, мы подняли простой стек, в котором успешно создаётся наше приложение, а также необходимая для его работы среда. Docker Compose отлично подходит для разработки и может использоваться в качестве автоматизации развертывания приложений, если у тебя единственный docker-хост. Для продуктовой работы контейнерных приложений на нескольких хостах и в кластерном режиме есть специальные решения - оркестраторы. Далее у нас будет раздел об этом.

Если тебе подходит рабочее развёртывание с docker-compose, то имей в виду, что в этом примере не хватает важных инструкций, без которых не стоит разворачивать приложение на боевом сервере. О том, как это улучшить, мы поговорим в следующих лекциях. Увидимся!
