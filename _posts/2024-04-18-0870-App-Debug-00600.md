---
layout: article
---

Команды Docker сильно упрощают работу в отладке контейнерных приложений. Чтобы не вносить дополнительные факторы риска, нам необязательно залезать в целевой контейнер через `exec`. Мы можем запустить контейнер рядом и разделить PID-пространство обеих контейнеров. Т.е. мы запустим новый приаттаченый к нашему терминалу контейнер, который в части процессов сольётся с первым. Вот команда:

```
docker container run -ti --rm --cap-add=SYS_PTRACE \
--pid=container:nginx-debug quay.io/giantswarm/debug bash
```

Как видишь, из второго контейнера дерево процессов выглядит общим.

```
bash-5.0# ps aux
```

Мы можем трассировать системные вызовы основного процесса первого контейнера, просто запустив `strace` для PID = 1:

```
strace -p 1
```
