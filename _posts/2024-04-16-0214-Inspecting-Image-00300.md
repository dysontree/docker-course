---
layout: article
---
{% raw %}
Она возвращает все детали в формате JSON. Как видишь, здесь перечислены множество данных, которые были прописаны в Dockerfile и использованы для создания этого образа. Например родительский образ, т.е. на базе какого образа собирался этот, сведения об авторе, установленные переменные среды, открытые порты, тома, точки входа и т. д. Здесь также указан физический и виртуальный размер этого изображения.

```
docker image inspect httpd
```

Эта команда возвращает большой объем информации, и обычно нам не нужно все сразу. Используя выражения JSONPATH, мы можем фильтровать вывод команды `inspect`. Такой ключ `--format` или короче `-f` применим к любой команде Docker, которая генерирует выходные данные в виде JSON. Поэтому мы используем опцию `-f` и передаем выражение JSONPATH. На сайте Роторо в курсе CKA есть лекции и упражнения по JSONPATH, поэтому если ты новичок, я советую тебе с этим познакомиться.
Вот здесь у меня несколько примеров. Сначала я хочу получить ОС для этого образа. Я могу отфильтровать вывод `image inspect`, используя выражение `{{.Os}}` в двойных фигурных скобках, как ты видишь. Чтобы получить архитектуру, мы используем точку и слово `Architecture` (`{{.Architecture}}`). 

```
docker image inspect httpd --format '{{.Os}}'
linux
```

```
docker image inspect httpd --format '{{.Architecture}}'
amd64
```

Мы можем объединить эти два вывода вместе, при помощи запроса, как ты видишь далее. Это покажет и ОС, и архитектуру. Такие запросы могут быть более сложными, как, например, этот для получения открытых портов для контейнера. 

```
docker image inspect httpd -f "{{.Config.ExposedPorts}}"
map[80/tcp:{}]
```

Также там могут использоваться проверки условий и циклы.

```
docker image inspect httpd -f '{{ range $p, $conf := .Config.ExposedPorts }} {{$p}} {{end}}'
 80/tcp
```

Поэтому не пугайся, если в каком-то скрипте увидишь подобную конструкцию - это просто механизм Docker для фильтрации вывода.

И это все, увидимся.
{% endraw %}
