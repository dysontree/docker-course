---
layout: article
---

Для этого при инициализации нового кластере используй опцию `--auto-lock=true`.

```
docker  swarm  init  --advertise-addr  172.30.1.2:2377  --autolock=true
```

На существующем кластере запускаем:

```
docker swarm update --autolock=true
```

В результате работы команда возвращает ключ, который можно использовать для разблокировки менеджера после его перезапуска. Этот ключ необходимо безопасно хранить в специальном решении, вроде менеджера паролей. Теперь всякий раз, когда узел перезапускается, покидает кластер и пытается присоединиться, мы получим ошибку, в которой говориться, что Swarm зашифрован и нуждается в разблокировке перед использованием.
