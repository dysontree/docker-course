---
layout: article
---

К сожалению, пока нет отдельного стандарта на метрики и на healthchecks. Поэтому каждая платформа старается собирать это по-своему. Каждая искренне хочет нам помочь своими действиями, но нет `серебряной пули`, и для разных случаев это может выходить не хорошо. 

В Docker есть механизм проб, который помогает нам отслеживать работоспособность приложений. Он гибкий и подходит для большинства приложений. Именно на него ориентируется Docker, когда признаёт контейнер неработоспособным и принимает решение пересоздать его.

Также мы видели, что Docker снимает статистику потребления контейнеров. Напомню, что увидеть это можно командой `docker container stats`. И именно на этот механизм опирается ограничение ресурсов.

Еще в Docker есть внутренние события, их тоже неплохо записать и измерить.

Обычно у нас есть централизованная система мониторинга, куда стекаются метрики, агрегируются и отправляются на хранение. Это могут быть старые `Nagios` или `Zabbix`, которые не так хороши с контейнерами, или более новые, как `Prometheus`, `VictoriaMetrics`, `New Relic` или `Datadog`, которые хорошо работают с миром контейнеров.

До прихода контейнеров мониторинг в основном оповещал нас, что что-то сломалось и пора это чинить. Сейчас оркестраторы стараются сами починить наши приложения, а наша задача проанализировать поведение системы и предугадать его в будущем. Поэтому чем больше информации о системе мы соберём, тем лучше сможем её понять и впоследствии улучшить.

Итак, давай разберём механизмы, которыми мы можем получить информацию из Docker своими силами.
