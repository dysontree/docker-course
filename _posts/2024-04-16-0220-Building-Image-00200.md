---
layout: article
---

Ок, зачем нам нужно создавать свой собственный образ? Ну, это может быть потому, что мы не можем найти какой-то компонент или сервис для своего приложения или для своей инфраструктуры на Docker Hub. Или наша команда решила, что разрабатываемое приложение пора контейнеризировать, чтобы упростить стадии его доставки и развертывания. Или наши требования по безопасности не позволяют использовать образы третих лиц, и поэтому мы обязаны собирать каждый образ самостоятельно. Это видимо основные, но может быть еще 1001 причина.

В этом случае я собираюсь поместить в контейнер своё приложение. Это простое веб-приложение, написанное на Python в среде фреймворка Flask. 

При разработке плана контейнеризации есть несколько пунктов, что следует принять во внимание. Во-первых, нам нужно понять, что мы контейнеризуем, т.е. для какого приложения создаём образ, и как собирается это приложение. Начнём с размышления о том, что мы делаем, когда пробуем развернуть это приложение вручную. Я записываю все необходимые шаги в правильном порядке, чтобы потом по этой дорожной карте создать образ этого веб-приложения.

Если бы мне пришлось собирать и настраивать его вручную, я бы начал с того, что
-   выбрал бы операционную систему вроде Ubuntu,
-   далее обновил бы репозитории исходного кода с помощью команды apt,
-   затем установил бы зависимости с помощью команды apt,
-   после установил бы зависимости Python с помощью команды pip,
-   далее скопировал бы исходный код моего приложения в подходящее место на диске, например в `/opt`,
-   и наконец, запустил бы веб-сервер с помощью команды `flask`.

Теперь у меня есть инструкции, как бы я действовал. И их я легко могу перенести в Dockerfile, чтобы использовать их там.
