---
layout: article
---

Давай посмотрим на компоненты swarm-кластера. Кластер Docker Swarm состоит из узлов-нод - т.е. хостов с Docker. В самом простом случае это может быть единственный узел. Но для маленького кластера их обычно два или три. Узлом может быть физический сервер, мини-компьютер или виртуальная машина. Она может располагаться локально или в облаке, это тоже неважно. Главное, чтобы на ней был установлен и работал Docker Engine.

Этот swarm-кластер состоит из одного управляющего узла - менеджера и трёх рабочих - воркеров. Менеджер несет ответственность за получение инструкций от пользователя через CLI или через API. Получив инструкцию, он управляет воркерами, чтобы они реализовали поставленные задачи. Таким образом, рабочие узлы получают инструкции или `tasks` от узлов-менеджеров и запускают контейнеры. 

Узлы-менеджеры также могут исполнять рабочие нагрузки. При желании мы можем настроить менеджер и для выполнения задач управления, и для задач размещения нагрузок, но так делать не рекомендуется. Управляющие узлы должны отвечать за поддержание установленного нами состояния в кластере, а если что-то произойдёт, отреагировать на это и привести состояние к желаемому виду. Это могут быть события вроде выхода узла из строя, или в кластер был добавлен новый узел, или какие-то службы стали нездоровы и т.д.

Чтобы развернуть свои приложения, мы должны явно проинструктировать менеджера, отправив определение этого `service`. После этого менеджер создаёт `tasks` и назначает их рабочим узлам. Рабочие узлы, получив задачи, развёртывает необходимые контейнеры.
