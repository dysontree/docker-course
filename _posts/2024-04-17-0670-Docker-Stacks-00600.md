---
layout: article
---

Первое, что мы опишем здесь – это реплики, которые помогают нам развертывать несколько экземпляров контейнера. Compose также умеет их создавать. Я добавлю по одной реплике для `redis`, `db`, `result` и `worker`. Для `vote` выставлю две. Для начала достаточно, я могу развернуть приложение. Запускаю команду:

```
docker stack deploy --compose-file compose.yaml voting-app
```

После отправки команды, службы развертываются на всех узлах кластера. По умолчанию нет запрета назначения на менеджеры, поэтому служба может быть развернута на них. После окончания работы команды мы видим, что исполняется по одному экземпляру каждой службы, кроме `vote`, у которой два контейнера.
