---
layout: article
---

Для работы MACVLAN нам нужно создать сеть с установкой этого типа драйвера и указать сетевой интерфейс хоста, через драйвер будет работать с трафиком.

```
docker network create --driver macvlan -o parent=enp1s0 my-vlan
```

Что касается логики работы, то на более низком уровне это работает за счёт тегирования сетевых пакетов. Если хочешь знать больше - почитай про VLANs. А с перспективы Docker просто запомни, что сети MACVLAN используются, когда устаревшие приложения ожидают прямого подключения к физической сети, и этот механизм может работать в двух режимах.

Итак, давай подведём итоги, что касается типов сетей в Docker.

- `None Network`. Отключает все сети в контейнере. Нельзя использовать для служб в Swarm.
- `Host Network`. Удаляет любого рода сетевые изоляции, и контейнер может полностью использовать сетевые ресурсы хоста.
- `Bridge Network`. Используется для обеспечения связи между несколькими контейнерами на одном хосте.
- `Overlay Networks`. Предназначены для работы между несколькими хостами. Они создают сеть для обеспечения связи контейнеров на разных docker-хостах. О них у нас будет отдельный разговор в темах о Swarm.
- `MACVLAN Network`. Нужен для работы устаревших приложений, которым требуется, чтобы контейнеры выглядели как физические хосты или нужна сеть с уникальными MAC-адресами.

Также обрати внимание, что это может использоваться для обеспечения связи контейнеров на разных docker-хостах. Он использует L3 Bridge.
- `IPVLAN Network`. Похоже на предыдущий тип сети, он также может связать нескольких контейнеров между разными хостами, но использует L2 Bridge.

И на этом пока всё, увидимся на следующей лекции.
