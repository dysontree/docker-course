---
layout: article
---

Ранее была коммерческая версия Docker. И была обычная. Очень популярная схема дистрибуции продукта. После версия для компаний была продана. Сейчас она называется `Mirantis Container Runtime`.

В той версии было три классных компонента, которые очень облегчали жизнь. Это удобный высокодоступный защищённый реестр, система управления кластерами и специальная версия движка Docker. После продажи Enterprise Edition компания Docker не отказалась от этих идей, а постаралась реализовать их в виде облачного сервиса, расширив функции своего хранилища Docker Hub. 

Она интегрировала функции работы со своим сервисом в CLI. Но они не все бесплатные, поэтому мы не будем глубоко погружаться в это. Мы рассмотрим основные функции, чтобы было понимание, готовы ли мы за это платить.

Прежде всего основной момент, ради которого эта лекция. Мы изучили безопасность, но не говорили о доступе пользователей, а этот ключевой момент. Кто может зайти в реджистри, кто может скачать образ, кто может развернуть контейнер, кто может использовать том, кто может отправить образ в реестр?

Ранее мы могли купить Docker EE (сейчас её продаёт Mirantis, а также она есть у облачных провайдеров) и получить на это ответы так, как это видела компания Docker. На самом деле это классное решение и недешевое. И в нем есть реализация RBAC.

Можно купить стороннюю реализацию, вроде Portainer, он реализует многие необходимые вещи, а стоит копейки.

Альтернативно мы могли установить реджистри, вроде `harbor`, добавить в Docker плагин авторизации, связать всё это с наишим LDAP, обильно скрепить самописным софтом, а далее поддерживать и развивать. Звучит не очень, а на деле ещё хуже.

`Docker Hub` предлагает возможности по удалённым сборкам, сканированию образов, дополнительное хранение и ролевой подход к построению организации в своём сервисе и по вполне демократичным ценам.

На минуту отступим и обсудим, что такое контроль на основе ролей или Role Based Access Control в понимании Docker EE.
