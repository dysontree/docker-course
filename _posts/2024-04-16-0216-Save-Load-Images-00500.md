---
layout: article
---

```
docker container list
```

```
docker container export foo > foo_fs.tar
```

```
ls
```

Этот файл затем можно импортировать в качестве образа в любую систему. Для этого мы запускаем команду `docker image import`, а после передаем tar-файл и далее название, под которым будет известен новый образ. 

```
docker image import foo_fs.tar grabbed-nginx:latest
```

Теперь, подобно команде `docker image load` tarball будет извлечен и размещен в виде образа в локальном Docker. Посмотрим на локальные образы.

```
docker image ls
```

Как видишь, образ `grabbed-nginx`  также появился на хосте.

Надо понимать отличие этих двух методик. Первая команда (которая `save` ) упаковывает все слои и метаинформацию образа. Т.е. на выходе мы имеем полный аналог образа, просто в tar-форме.
Вторая техника создает tar-файл верхнего слоя, т.е. дамп файловой системы контейнера. Все изменения, которые контейнер получил после запуска будут находится в этом файле. Тут не будет доступа к более ранним изменениям, которые происходили на этапах сборки, которые мы получаем при помощи команды `save`. Еще мы теряем всю мета-информацию, относящуюся к образу: точку входа, предустановленные переменные окружения и т.д. Можно сказать, что мы получаем только файловую систему контейнера.

Обратная сторона этого - новый образ может быть меньше (но не всегда) чем образ из которого запускался экспортируемый контейнер. Если ты присмотришься к выводу `image ls` наш сохранённый nginx меньше своего прародителя на 300K.

Поскольку образ потерял свои настройки, то возникает вопрос, как его запустить? В выводе команды inspect видим, что разделы настроек образа пустые.
