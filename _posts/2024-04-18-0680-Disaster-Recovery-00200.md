---
layout: article
---

Процедура восстановления несёт в себе высокий риск, и невозможно пройти её без потерь работоспособности кластера. Поэтому не тренируйся в этом на своём проде. Гораздо лучше избегать восстановления кластера. В первой части мы поговорим, как именно нам избежать этого восстановления.

Итак, в Docker Swarm у нас два вида узлов. Если рабочий узел выйдет из строя, кластер продолжит работать в обычном режиме, но рабочая нагрузка, запланированная на упавшем воркере перепланируется на другой доступный узлел. Когда вышедший из строя узел возвращается и становится онлайн, он готов принять новые рабочие нагрузки. 

Но существующие workloads не перебалансируются автоматически. Перемещение рабочих нагрузок обратно сопряжено с уничтожением и повторным созданием контейнеров, что может влиять на работу приложения, поскольку трафик пользователей на это время может прерваться. Поэтому Swarm не трогает то, что работает. Тоже самое касается и добавления нового узла в кластер - присоединившиеся мощности будут учитываться при планировании только для вновь создаваемых контейнеров.
