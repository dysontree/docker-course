---
layout: article
---

Ок, давай создадим еще одну службу, но добавим параметров.

```
docker service create --name=webserver -p 80:80 httpd:alpine
```

Я добавил в команду название службы, при помощи которого я смогу легко идентифицировать её в кластере. Дальше я указал, что контейнерам службы требуется маппинг хостовых портов. Запущу.

В данный момент создаётся единственный экземпляр. Это потому, что по умолчанию значение `replicas` равно единице.

Команда `docker service ls` выведет список служб, развёрнутых в кластере. В выводе мы видим количество реплик, в каком они состоянии, образ и выставленные порты.

```
docker service ls
```

Для получения списка tasks для service мы воспользуемся командой `docker service ps`, за которой идёт имя службы.

```
docker service ps webserver
```

Здесь перечислены все задания, на какие узлы они размещены, какое состояние является желаемым и какое оно в данный момент.

Мы видим, что нагрузку несёт только `worker-0`. Иногда бывает нужно посмотреть, какие tasks находятся на определённом узле. Для этого в swarm есть команда `docker node ps`.

```
docker node ps worker-0
```
