---
layout: article
---

Первый вариант, когда мы прокидываем сокет хостового докера в контейнер, в котором есть Docker CLI. Т.е. мы можем управлять центральным Docker из контейнера.

Сначала я скачаю образ, чтобы далее понимать, каким именно Docker я управляю.

```
docker image pull alpine
```

```
docker  image  list
```

Теперь запускаю образ с CLI и монтирую сокет внутрь контейнера.

```
docker container run --rm -it -v /var/run/docker.sock:/var/run/docker.sock docker:19.03
```

Внутри  контейнера запущу `docker images`:

```
/ # docker images
```

Теперь изнутри контейнера мы будем видеть всё, что происходит в Docker на хосте. Такой вот удалённый терминал внутри контейнера.

Для чего использовать. 

- Я использую для получения информации от service discovery в bridge-сетях некоторых развёртываний, когда информация требуется мне на хосте. Будучи контейнером внутри сети, я могу узнать адреса соседей, а потом провести нужные действия по патчингу нагрузок.
- Также удобно использовать это в Swarm, когда нужно сделать что-то на хосте, но нет возможности подключится к локальному демону хоста. Создаём службу, которая деплоит такой контейнер на воркер-ноду, далее он исполняет команды, и служба удаляется.
