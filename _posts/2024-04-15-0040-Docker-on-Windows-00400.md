---
layout: article
---
После скачивания и установки из пакета-инсталлятора перед тобой откроется окно дэшборда, в котором мы видим контейнеры, которые когда-то были запущены на хосте. 

По умолчанию система настроена на запуск Linux-контейнеров. Если мы вызовем терминал администратора (WIN + X, а далее выбрать терминал), то мы попадём в привычный Docker CLI.

```
docker version
```
Как видишь, демон сейчас работает в режиме linux/amd64. Т.е. мы можем сразу начать работать с linux-контейнерами. В Docker Desktop можно установить контекст, чтобы обращаться к одному из демонов: первому, который исполняется в WSL и отвечает за linux-контейнеры или к тому, который занимается windows-контейнерами.

```
docker context ls
```

Пока у нас не запущена служба windows-контейнеров, переключение будет приводить к ошибке.

```
docker context use desktop-windows
```

```
docker ps -a
```

Для переключения в графическом интерфейсе движка есть специальный пункт. Но в последних версиях он отключён по умолчанию. Его можно активировать, установив значение в файле настроек `~\AppData\Roaming\Docker\settings.json` параметр `"displaySwitchWinLinContainers": true`. 

У меня это не взлетело и я переключил из консоли:

```
& 'C:\Program Files\Docker\Docker\DockerCli.exe' -SwitchDaemon
```

Он спросит в диалоге, можно ли запустить службу windows-docker с повышенными привилегиями и после этого интерфейс должен переключиться на работу с windows-контейнерами.

Как я говорил, `Docker Desktop` не всегда работает как ожидается. В случае, если это не сработало, я советую включить `Microsoft-Hyper-V`:

```
wsl --shutdown
```

```
Enable-WindowsOptionalFeature -Online -FeatureName $("Microsoft-Hyper-V", "Containers") -All
```

Возможно придётся перезагрузиться. Также в файле `~\AppData\Roaming\Docker\settings.json` возможно потребуется установить "useWindowsContainers": false. Я делал так на WIN11, но с windows-контейнерами всегда выходит какое-то шаманство, в более ранних версиях на WIN10 это работало лучше.
