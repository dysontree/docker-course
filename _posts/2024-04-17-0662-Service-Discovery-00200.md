---
layout: article
---

Service discovery или обнаружение сервисов позволяет контейнерам находить друг друга и разговаривать между собой, обращаясь по именам. Как мы уже обсуждали, внутри одной сети контейнеры могут связаться друг с другом, используя свои имена.

В этом случае у меня есть контейнер с веб-сервером и контейнер с базой данных MySQL. Оба они работают на одном узле. Веб-серверу требуется получать и записывать данные в базу. Как он найдёт ее?

Первый вариант - использовать внутренний IP-адрес, который был назначен контейнеру MySQL. В данном случае это 172.17.0.3. Но это очень плохое решение, потому что Docker не гарантирует, что после пересоздания контейнера с базой он получит прежний IP-адрес.

Правильный подход - обращаться по имени контейнера. Все контейнеры на хосте докера могут разрешить имена друг друга, при условии, что они находятся в одной сети, и это не сеть по умолчанию. 

Это возможно благодаря встроенному DNS-серверу, к которому могут обратиться контейнеры. Этот встроенный DNS доступен из контейнера по адресу 127.0.0.11.

```
docker network create app-net
```

```
docker run -it --rm --net app-net  alpine cat /etc/resolv.conf 
```
