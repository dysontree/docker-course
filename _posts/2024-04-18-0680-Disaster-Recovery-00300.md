---
layout: article
---

Смысл в том, что на длинной дистанции рабочая нагрузка в кластере всё равно будет сбалансирована, когда существующие контейнеры дадут сбой или мы задеплоим ещё что-то. Но всё же мы можем явно попросить Swarm настроить балансировку и перераспределить нагрузки по нодам. Команда для ребалансировки службы `webserver` такая:

```
docker service update --force webserver
```

Флаг `--force` указывает на то, что нужно перераспределить нагрузку. Это придется делать для каждой службы отдельно.

Ок, ранее мы обсудили важность кворума в swarm-кластере. В моём примере мы имеем только один узел-менеджер, и кворум будет один. Т.е. нам всегда нужно, чтобы один узел-менеджер был онлайн, и мы не можем позволить себе его потерять. Когда этот узел будет потерян, работающие в кластере нагрузки продолжат исполняться в прежнем режиме, но функции управления ими отключатся.

Таким образом, мы не сможем добавить новые узлы, создать новые объекты уровня кластера или провести операции деплоя служб. Также в случае сбоя управляющего узла, рабочая нагрузка не будет автоматически перенесена на другие узлы.
